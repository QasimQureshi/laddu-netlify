(this["webpackJsonptwilio-video-app-react"] = this["webpackJsonptwilio-video-app-react"] || []).push([[0],{

/***/ 159:
/***/ (function(module) {

module.exports = JSON.parse("{\"a\":\"0.1.0\"}");

/***/ }),

/***/ 165:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZIAAAEyCAYAAADQnlYUAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFdElEQVR42u3dwW3DUAxEQSnI2a2oCxXtLtyKGlB68BrZMH+mAoGH/8CLuF/HeW8AC3u8nrspvO/LCAAQEgAqruO8hQSAtyNiIwEgioiQABBFREgAiCIiJABEERESAKKICAkAUUSEBIAoIkICQBQRIQEgioiQABBFREgAiCIiJABEERESAKKICAkAW3rg8PuTH+PKGDDl8eNzc7SRAIiIkADQ2+iEBEBEhASATkSEBEBEhASAXkSEBEBEhASAXkSEBEBEhASAXkSEBEBEhASAXkSEBEBEhASA7t+QhQRARIQEQESEBICBERESABEREgARERIAhkZESABEREgARERIABgaESEBEBEhARARIQFgaESEBEBEhARARIQEgKERERKARSPyeD13IQEQkXpEhARARIQEQER6ERESABEREgAR6UVESABEREgARKQXESEBEBEhARCRXkSEBEBEhARARHoRERIAERESABHpRURIAERESABEREgARGRoRIQEQESEBEBEhARARIZGREgARERIAERESABEZGhEhARARIQEQESEBEBEhkZESABEREgARERIAERkaESEBEBEhARARIQEQESEBEBEVoyIkACIiJAATPLfIiIkACIiJAAiIiQAIiIkAKwYESEBEBEhARARIQEQESEBYMWICAmAiAgJgIgICYCICAmAiAgJACIiJAAiIiQAIiIkACIiJACIiJAAiIiQAIiIkACIiJAAiAhCAiAiQgIgIkICICJCAiAiCAmAiAgJgIgICYCICAmAiAgJgIggJAAiIiQAIiIkACIiJAAigpAAiIiQAIiIkACIiJAAiAhCAogIQgIgIkICICJCAiAiCAkgIggJgIj8Fd9GAAgINhIAhAQAIQFASABASAAQEgCEBAAhAQAhAUBIABASAIQEAIQEACEBQEgAEBIAEBIAhAQAIQFASAAQEgAQEgCEBAAhAUBIAEBIABASAIQEACEBACEBQEgAEBIAhAQAhAQAIQFASAAQEgCEBACEBAAhAUBIABASABASAIQEACEBQEgAQEgAEBIAhAQAIQEAIQFASAAQEoDQdZz3dZy3SQgJQBwUUxASADEREgAxERIAMUFIADEREyEBEBMhARATIQEQE4QEQEyEBEBMhARATIQEQEwQEgAxERIAMRESADEREgAxQUgAxERIAMRESADEREgAxERIABATIQEQEyEBEBMhARATIQFATIQEQEyEBEBMhARATIQEADEREgAxERIAMRESADEREgDEREgAxERIAMRESADEREgAWDsmQgIgJkICICZCAiAmQgLAijEREgAxERIAMRESADEREgBWjImQAGzb9ng9dzEREgAxERIAMRESADFZKiZCAiAmQgIgJkICICZDYyIkAGIiJABiIiQAYjI0JkICICZCAiAmQgIgJkNjIiQAYiIkAGIiJABiMjQmQgIgJkICICZCAiAmQ2MiJABiIiQAYtKLiZAAiImQAIhJLyZCAiAmQgIgJr2YCAmAmAgJgJj0YiIkAGIiJABi0ouJkACIiZAAiEkvJkICICZCAiAmvZgICcCiMRESADEREgDmx0RIAMRESADEREgAGBoTIQEQEyEBEBMhAWBoTIQEQEyEBEBMhASAoTEREgAxERIAMRESAIbGREgAxERIAOjFREgAxERIAOjFREgAxERIAOjFREgAxERIAOjFREgAxERIAOjFREgAxERIAOjFREgAxERIAOjFZL+O8zZOwKP6926h/5a0AzYSABGNIiokAEQxERIAopgICQBRTIQEgCgmQgJAFBMhASCKiZAAEMVESACIYiIkAEQxERIAopgICQBRTIQEgCgmQgJAFBMhASCKiZAAEMVESACI/ACDMI238rqCJQAAAABJRU5ErkJggg=="

/***/ }),

/***/ 184:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(305);


/***/ }),

/***/ 305:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(0);
var react_default = /*#__PURE__*/__webpack_require__.n(react);

// EXTERNAL MODULE: ./node_modules/react-dom/index.js
var react_dom = __webpack_require__(13);
var react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CssBaseline/CssBaseline.js
var CssBaseline = __webpack_require__(357);

// EXTERNAL MODULE: ./node_modules/@material-ui/styles/esm/ThemeProvider/ThemeProvider.js
var ThemeProvider = __webpack_require__(355);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/styled.js + 1 modules
var styled = __webpack_require__(362);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js
var makeStyles = __webpack_require__(147);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/createStyles.js + 1 modules
var createStyles = __webpack_require__(361);

// EXTERNAL MODULE: ./node_modules/clsx/dist/clsx.m.js
var clsx_m = __webpack_require__(3);

// EXTERNAL MODULE: ./node_modules/@material-ui/icons/CallEnd.js
var CallEnd = __webpack_require__(152);
var CallEnd_default = /*#__PURE__*/__webpack_require__.n(CallEnd);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Fab/Fab.js
var Fab = __webpack_require__(344);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Tooltip/Tooltip.js + 1 modules
var Tooltip = __webpack_require__(363);

// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules
var slicedToArray = __webpack_require__(6);

// CONCATENATED MODULE: ./src/components/VideoProvider/useSelectedParticipant/useSelectedParticipant.tsx
var selectedParticipantContext=Object(react["createContext"])(null);function useSelectedParticipant(){var _useContext=Object(react["useContext"])(selectedParticipantContext),_useContext2=Object(slicedToArray["a" /* default */])(_useContext,2),selectedParticipant=_useContext2[0],setSelectedParticipant=_useContext2[1];return[selectedParticipant,setSelectedParticipant];}function SelectedParticipantProvider(_ref){var room=_ref.room,children=_ref.children;var _useState=Object(react["useState"])(null),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),selectedParticipant=_useState2[0],_setSelectedParticipant=_useState2[1];var setSelectedParticipant=function setSelectedParticipant(participant){return _setSelectedParticipant(function(prevParticipant){return prevParticipant===participant?null:participant;});};Object(react["useEffect"])(function(){var onDisconnect=function onDisconnect(){return _setSelectedParticipant(null);};room.on('disconnected',onDisconnect);return function(){room.off('disconnected',onDisconnect);};},[room]);return react_default.a.createElement(selectedParticipantContext.Provider,{value:[selectedParticipant,setSelectedParticipant]},children);}
// CONCATENATED MODULE: ./src/components/VideoProvider/useHandleRoomDisconnectionErrors/useHandleRoomDisconnectionErrors.ts
function useHandleRoomDisconnectionErrors(room,onError){Object(react["useEffect"])(function(){var onDisconnected=function onDisconnected(room,error){if(error){onError(error);}};room.on('disconnected',onDisconnected);return function(){room.off('disconnected',onDisconnected);};},[room,onError]);}
// CONCATENATED MODULE: ./src/components/VideoProvider/useHandleOnDisconnect/useHandleOnDisconnect.ts
function useHandleOnDisconnect(room,onDisconnect){Object(react["useEffect"])(function(){room.on('disconnected',onDisconnect);return function(){room.off('disconnected',onDisconnect);};},[room,onDisconnect]);}
// CONCATENATED MODULE: ./src/components/VideoProvider/useHandleTrackPublicationFailed/useHandleTrackPublicationFailed.ts
function useHandleTrackPublicationFailed(room,onError){var localParticipant=room.localParticipant;Object(react["useEffect"])(function(){if(localParticipant){localParticipant.on('trackPublicationFailed',onError);return function(){localParticipant.off('trackPublicationFailed',onError);};}},[localParticipant,onError]);}
// EXTERNAL MODULE: ./node_modules/twilio-video/es5/index.js
var es5 = __webpack_require__(33);
var es5_default = /*#__PURE__*/__webpack_require__.n(es5);

// CONCATENATED MODULE: ./src/components/VideoProvider/useLocalTracks/useLocalTracks.ts
function useLocalAudioTrack(){var _useState=Object(react["useState"])(),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),track=_useState2[0],setTrack=_useState2[1];Object(react["useEffect"])(function(){es5_default.a.createLocalAudioTrack().then(function(newTrack){setTrack(newTrack);});},[]);Object(react["useEffect"])(function(){var handleStopped=function handleStopped(){return setTrack(undefined);};if(track){track.on('stopped',handleStopped);return function(){track.off('stopped',handleStopped);};}},[track]);return track;}function useLocalVideoTrack(){var _useState3=Object(react["useState"])(),_useState4=Object(slicedToArray["a" /* default */])(_useState3,2),track=_useState4[0],setTrack=_useState4[1];var getLocalVideoTrack=Object(react["useCallback"])(function(){return es5_default.a.createLocalVideoTrack({frameRate:24,height:720,width:1280,name:'camera'}).then(function(newTrack){setTrack(newTrack);return newTrack;});},[]);Object(react["useEffect"])(function(){// We get a new local video track when the app loads.
getLocalVideoTrack();},[getLocalVideoTrack]);Object(react["useEffect"])(function(){var handleStopped=function handleStopped(){return setTrack(undefined);};if(track){track.on('stopped',handleStopped);return function(){track.off('stopped',handleStopped);};}},[track]);return[track,getLocalVideoTrack];}function useLocalTracks(){var audioTrack=useLocalAudioTrack();var _useLocalVideoTrack=useLocalVideoTrack(),_useLocalVideoTrack2=Object(slicedToArray["a" /* default */])(_useLocalVideoTrack,2),videoTrack=_useLocalVideoTrack2[0],getLocalVideoTrack=_useLocalVideoTrack2[1];var localTracks=[audioTrack,videoTrack].filter(function(track){return track!==undefined;});return{localTracks:localTracks,getLocalVideoTrack:getLocalVideoTrack};}
// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var objectSpread2 = __webpack_require__(63);

// EXTERNAL MODULE: ./node_modules/events/events.js
var events = __webpack_require__(14);
var events_default = /*#__PURE__*/__webpack_require__.n(events);

// CONCATENATED MODULE: ./src/components/VideoProvider/useRoom/useRoom.tsx
function useRoom(localTracks,onError,options){var _useState=Object(react["useState"])(new events_default.a()),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),room=_useState2[0],setRoom=_useState2[1];var _useState3=Object(react["useState"])(false),_useState4=Object(slicedToArray["a" /* default */])(_useState3,2),isConnecting=_useState4[0],setIsConnecting=_useState4[1];var disconnectHandlerRef=Object(react["useRef"])(function(){});var localTracksRef=Object(react["useRef"])([]);Object(react["useEffect"])(function(){// It can take a moment for Video.connect to connect to a room. During this time, the user may have enabled or disabled their
// local audio or video tracks. If this happens, we store the localTracks in this ref, so that they are correctly published
// once the user is connected to the room.
localTracksRef.current=localTracks;},[localTracks]);var connect=Object(react["useCallback"])(function(token){setIsConnecting(true);return es5_default.a.connect(token,Object(objectSpread2["a" /* default */])({},options,{tracks:[]})).then(function(newRoom){setRoom(newRoom);newRoom.once('disconnected',function(){// Reset the room only after all other `disconnected` listeners have been called.
setTimeout(function(){return setRoom(new events_default.a());});window.removeEventListener('beforeunload',disconnectHandlerRef.current);});// @ts-ignore
window.twilioRoom=newRoom;localTracksRef.current.forEach(function(track){return(// Tracks can be supplied as arguments to the Video.connect() function and they will automatically be published.
// However, tracks must be published manually in order to set the priority on them.
// All video tracks are published with 'low' priority. This works because the video
// track that is displayed in the 'MainParticipant' component will have it's priority
// set to 'high' via track.setPriority()
newRoom.localParticipant.publishTrack(track,{priority:track.kind==='video'?'low':'standard'}));});disconnectHandlerRef.current=function(){return newRoom.disconnect();};setIsConnecting(false);// Add a listener to disconnect from the room when a user closes their browser
window.addEventListener('beforeunload',disconnectHandlerRef.current);},function(error){onError(error);setIsConnecting(false);});},[options,onError]);return{room:room,isConnecting:isConnecting,connect:connect};}
// CONCATENATED MODULE: ./src/components/VideoProvider/index.tsx
/*
 *  The hooks used by the VideoProvider component are different than the hooks found in the 'hooks/' directory. The hooks
 *  in the 'hooks/' directory can be used anywhere in a video application, and they can be used any number of times.
 *  the hooks in the 'VideoProvider/' directory are intended to be used by the VideoProvider component only. Using these hooks
 *  elsewhere in the application may cause problems as these hooks should not be used more than once in an application.
 */var VideoContext=Object(react["createContext"])(null);function VideoProvider(_ref){var options=_ref.options,children=_ref.children,_ref$onError=_ref.onError,onError=_ref$onError===void 0?function(){}:_ref$onError,_ref$onDisconnect=_ref.onDisconnect,onDisconnect=_ref$onDisconnect===void 0?function(){}:_ref$onDisconnect;var onErrorCallback=function onErrorCallback(error){console.log("ERROR: ".concat(error.message),error);onError(error);};var _useLocalTracks=useLocalTracks(),localTracks=_useLocalTracks.localTracks,getLocalVideoTrack=_useLocalTracks.getLocalVideoTrack;var _useRoom=useRoom(localTracks,onErrorCallback,options),room=_useRoom.room,isConnecting=_useRoom.isConnecting,connect=_useRoom.connect;// Register onError and onDisconnect callback functions.
useHandleRoomDisconnectionErrors(room,onError);useHandleTrackPublicationFailed(room,onError);useHandleOnDisconnect(room,onDisconnect);return react_default.a.createElement(VideoContext.Provider,{value:{room:room,localTracks:localTracks,isConnecting:isConnecting,onError:onErrorCallback,onDisconnect:onDisconnect,getLocalVideoTrack:getLocalVideoTrack,connect:connect}},react_default.a.createElement(SelectedParticipantProvider,{room:room},children));}
// CONCATENATED MODULE: ./src/hooks/useVideoContext/useVideoContext.ts
function useVideoContext(){var context=Object(react["useContext"])(VideoContext);if(!context){throw new Error('useVideoContext must be used within a VideoProvider');}return context;}
// CONCATENATED MODULE: ./src/components/Controls/EndCallButton/EndCallButton.tsx
var useStyles=Object(makeStyles["a" /* default */])(function(theme){return Object(createStyles["a" /* default */])({fab:{margin:theme.spacing(1)}});});function EndCallButton(){var classes=useStyles();var _useVideoContext=useVideoContext(),room=_useVideoContext.room;return react_default.a.createElement(Tooltip["a" /* default */],{title:'End Call',onClick:function onClick(){return room.disconnect();},placement:"top",PopperProps:{disablePortal:true}},react_default.a.createElement(Fab["a" /* default */],{className:classes.fab,color:"primary"},react_default.a.createElement(CallEnd_default.a,null)));}
// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Mic.js
var Mic = __webpack_require__(153);
var Mic_default = /*#__PURE__*/__webpack_require__.n(Mic);

// EXTERNAL MODULE: ./node_modules/@material-ui/icons/MicOff.js
var MicOff = __webpack_require__(76);
var MicOff_default = /*#__PURE__*/__webpack_require__.n(MicOff);

// CONCATENATED MODULE: ./src/hooks/useIsTrackEnabled/useIsTrackEnabled.tsx
function useIsTrackEnabled(track){var _useState=Object(react["useState"])(track?track.isEnabled:true),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),isEnabled=_useState2[0],setIsEnabled=_useState2[1];Object(react["useEffect"])(function(){setIsEnabled(track?track.isEnabled:true);if(track){var setEnabled=function setEnabled(){return setIsEnabled(true);};var setDisabled=function setDisabled(){return setIsEnabled(false);};track.on('enabled',setEnabled);track.on('disabled',setDisabled);return function(){track.off('enabled',setEnabled);track.off('disabled',setDisabled);};}},[track]);return isEnabled;}
// CONCATENATED MODULE: ./src/hooks/useLocalAudioToggle/useLocalAudioToggle.tsx
function useLocalAudioToggle(){var _useVideoContext=useVideoContext(),localTracks=_useVideoContext.localTracks;var audioTrack=localTracks.find(function(track){return track.kind==='audio';});var isEnabled=useIsTrackEnabled(audioTrack);var toggleAudioEnabled=Object(react["useCallback"])(function(){if(audioTrack){audioTrack.isEnabled?audioTrack.disable():audioTrack.enable();}},[audioTrack]);return[isEnabled,toggleAudioEnabled];}
// CONCATENATED MODULE: ./src/components/Controls/ToggleAudioButton/ToggleAudioButton.tsx
var ToggleAudioButton_useStyles=Object(makeStyles["a" /* default */])(function(theme){return Object(createStyles["a" /* default */])({fab:{margin:theme.spacing(1)}});});function ToggleAudioButton(props){var classes=ToggleAudioButton_useStyles();var _useLocalAudioToggle=useLocalAudioToggle(),_useLocalAudioToggle2=Object(slicedToArray["a" /* default */])(_useLocalAudioToggle,2),isAudioEnabled=_useLocalAudioToggle2[0],toggleAudioEnabled=_useLocalAudioToggle2[1];return react_default.a.createElement(Tooltip["a" /* default */],{title:isAudioEnabled?'Mute Audio':'Unmute Audio',placement:"top",PopperProps:{disablePortal:true}},react_default.a.createElement(Fab["a" /* default */],{className:classes.fab,onClick:toggleAudioEnabled,disabled:props.disabled,"data-cy-audio-toggle":true},isAudioEnabled?react_default.a.createElement(Mic_default.a,null):react_default.a.createElement(MicOff_default.a,null)));}
// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Videocam.js
var Videocam = __webpack_require__(154);
var Videocam_default = /*#__PURE__*/__webpack_require__.n(Videocam);

// EXTERNAL MODULE: ./node_modules/@material-ui/icons/VideocamOff.js
var VideocamOff = __webpack_require__(50);
var VideocamOff_default = /*#__PURE__*/__webpack_require__.n(VideocamOff);

// CONCATENATED MODULE: ./src/hooks/useLocalVideoToggle/useLocalVideoToggle.tsx
function useLocalVideoToggle(){var _useVideoContext=useVideoContext(),localParticipant=_useVideoContext.room.localParticipant,localTracks=_useVideoContext.localTracks,getLocalVideoTrack=_useVideoContext.getLocalVideoTrack;var videoTrack=localTracks.find(function(track){return track.name==='camera';});var toggleVideoEnabled=Object(react["useCallback"])(function(){if(videoTrack){if(localParticipant){var localTrackPublication=localParticipant.unpublishTrack(videoTrack);// TODO: remove when SDK implements this event. See: https://issues.corp.twilio.com/browse/JSDK-2592
localParticipant.emit('trackUnpublished',localTrackPublication);}videoTrack.stop();}else{getLocalVideoTrack().then(function(track){if(localParticipant){localParticipant.publishTrack(track);}});}},[videoTrack,localParticipant,getLocalVideoTrack]);return[!!videoTrack,toggleVideoEnabled];}
// CONCATENATED MODULE: ./src/components/Controls/ToggleVideoButton/ToggleVideoButton.tsx
var ToggleVideoButton_useStyles=Object(makeStyles["a" /* default */])(function(theme){return Object(createStyles["a" /* default */])({fab:{margin:theme.spacing(1)}});});function ToggleVideoButton(props){var classes=ToggleVideoButton_useStyles();var _useLocalVideoToggle=useLocalVideoToggle(),_useLocalVideoToggle2=Object(slicedToArray["a" /* default */])(_useLocalVideoToggle,2),isVideoEnabled=_useLocalVideoToggle2[0],toggleVideoEnabled=_useLocalVideoToggle2[1];return react_default.a.createElement(Tooltip["a" /* default */],{title:isVideoEnabled?'Mute Video':'Unmute Video',placement:"top",PopperProps:{disablePortal:true}},react_default.a.createElement(Fab["a" /* default */],{className:classes.fab,onClick:toggleVideoEnabled,disabled:props.disabled},isVideoEnabled?react_default.a.createElement(Videocam_default.a,null):react_default.a.createElement(VideocamOff_default.a,null)));}
// EXTERNAL MODULE: ./node_modules/@material-ui/icons/ScreenShare.js
var ScreenShare = __webpack_require__(77);
var ScreenShare_default = /*#__PURE__*/__webpack_require__.n(ScreenShare);

// EXTERNAL MODULE: ./node_modules/@material-ui/icons/StopScreenShare.js
var StopScreenShare = __webpack_require__(155);
var StopScreenShare_default = /*#__PURE__*/__webpack_require__.n(StopScreenShare);

// CONCATENATED MODULE: ./src/hooks/useScreenShareToggle/useScreenShareToggle.tsx
function useScreenShareToggle(){var _useVideoContext=useVideoContext(),room=_useVideoContext.room,onError=_useVideoContext.onError;var _useState=Object(react["useState"])(false),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),isSharing=_useState2[0],setIsSharing=_useState2[1];var stopScreenShareRef=Object(react["useRef"])(null);var shareScreen=Object(react["useCallback"])(function(){navigator.mediaDevices.getDisplayMedia({audio:false,video:{frameRate:10,height:1080,width:1920}}).then(function(stream){var track=stream.getTracks()[0];// All video tracks are published with 'low' priority. This works because the video
// track that is displayed in the 'MainParticipant' component will have it's priority
// set to 'high' via track.setPriority()
room.localParticipant.publishTrack(track,{name:'screen',// Tracks can be named to easily find them later
priority:'high'}).then(function(trackPublication){stopScreenShareRef.current=function(){room.localParticipant.unpublishTrack(track);// TODO: remove this if the SDK is updated to emit this event
room.localParticipant.emit('trackUnpublished',trackPublication);track.stop();setIsSharing(false);};track.onended=stopScreenShareRef.current;setIsSharing(true);}).catch(onError);}).catch(function(error){// Don't display an error if the user closes the screen share dialog
if(error.name!=='AbortError'&&error.name!=='NotAllowedError'){onError(error);}});},[room,onError]);var toggleScreenShare=Object(react["useCallback"])(function(){!isSharing?shareScreen():stopScreenShareRef.current();},[isSharing,shareScreen,stopScreenShareRef]);return[isSharing,toggleScreenShare];}
// CONCATENATED MODULE: ./src/hooks/useScreenShareParticipant/useScreenShareParticipant.tsx
/*
  Returns the participant that is sharing their screen (if any). This hook assumes that only one participant
  can share their screen at a time.
*/function useScreenShareParticipant(){var _useVideoContext=useVideoContext(),room=_useVideoContext.room;var _useState=Object(react["useState"])(),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),screenShareParticipant=_useState2[0],setScreenShareParticipant=_useState2[1];Object(react["useEffect"])(function(){if(room.state==='connected'){var updateScreenShareParticipant=function updateScreenShareParticipant(){setScreenShareParticipant(Array.from(room.participants.values())// the screenshare participant could be the localParticipant
.concat(room.localParticipant).find(function(participant){return Array.from(participant.tracks.values()).find(function(track){return track.trackName==='screen';});}));};updateScreenShareParticipant();room.on('trackPublished',updateScreenShareParticipant);room.on('trackUnpublished',updateScreenShareParticipant);room.on('participantDisconnected',updateScreenShareParticipant);// the room object does not emit 'trackPublished' events for the localParticipant,
// so we need to listen for them here.
room.localParticipant.on('trackPublished',updateScreenShareParticipant);room.localParticipant.on('trackUnpublished',updateScreenShareParticipant);return function(){room.off('trackPublished',updateScreenShareParticipant);room.off('trackUnpublished',updateScreenShareParticipant);room.off('participantDisconnected',updateScreenShareParticipant);room.localParticipant.off('trackPublished',updateScreenShareParticipant);room.localParticipant.off('trackUnpublished',updateScreenShareParticipant);};}},[room]);return screenShareParticipant;}
// CONCATENATED MODULE: ./src/components/Controls/ToogleScreenShareButton/ToggleScreenShareButton.tsx
var SCREEN_SHARE_TEXT='Share Screen';var STOP_SCREEN_SHARE_TEXT='Stop Sharing Screen';var SHARE_IN_PROGRESS_TEXT='Cannot share screen when another user is sharing';var SHARE_NOT_SUPPORTED_TEXT='Screen sharing is not supported with this browser';var ToggleScreenShareButton_useStyles=Object(makeStyles["a" /* default */])(function(theme){return Object(createStyles["a" /* default */])({fab:{margin:theme.spacing(1),'&[disabled]':{color:'rgba(225, 225, 225, 0.8)',backgroundColor:'rgba(175, 175, 175, 0.6);'}}});});function ToggleScreenShareButton(props){var classes=ToggleScreenShareButton_useStyles();var _useScreenShareToggle=useScreenShareToggle(),_useScreenShareToggle2=Object(slicedToArray["a" /* default */])(_useScreenShareToggle,2),isScreenShared=_useScreenShareToggle2[0],toggleScreenShare=_useScreenShareToggle2[1];var screenShareParticipant=useScreenShareParticipant();var _useVideoContext=useVideoContext(),room=_useVideoContext.room;var disableScreenShareButton=screenShareParticipant&&screenShareParticipant!==room.localParticipant;var isScreenShareSupported=navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia;var isDisabled=props.disabled||disableScreenShareButton||!isScreenShareSupported;var tooltipMessage=SCREEN_SHARE_TEXT;if(isScreenShared){tooltipMessage=STOP_SCREEN_SHARE_TEXT;}if(disableScreenShareButton){tooltipMessage=SHARE_IN_PROGRESS_TEXT;}if(!isScreenShareSupported){tooltipMessage=SHARE_NOT_SUPPORTED_TEXT;}return react_default.a.createElement(Tooltip["a" /* default */],{title:tooltipMessage,placement:"top",PopperProps:{disablePortal:true},style:{cursor:isDisabled?'not-allowed':'pointer'}},react_default.a.createElement("div",null,react_default.a.createElement(Fab["a" /* default */],{className:classes.fab,onClick:toggleScreenShare,disabled:isDisabled},isScreenShared?react_default.a.createElement(StopScreenShare_default.a,null):react_default.a.createElement(ScreenShare_default.a,null))));}
// EXTERNAL MODULE: ./node_modules/lodash.throttle/index.js
var lodash_throttle = __webpack_require__(156);
var lodash_throttle_default = /*#__PURE__*/__webpack_require__.n(lodash_throttle);

// CONCATENATED MODULE: ./src/components/Controls/useIsUserActive/useIsUserActive.ts
function useIsUserActive(){var _useState=Object(react["useState"])(true),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),isUserActive=_useState2[0],setIsUserActive=_useState2[1];var timeoutIDRef=Object(react["useRef"])(0);Object(react["useEffect"])(function(){var handleUserActivity=lodash_throttle_default()(function(){setIsUserActive(true);clearTimeout(timeoutIDRef.current);var timeoutID=window.setTimeout(function(){return setIsUserActive(false);},5000);timeoutIDRef.current=timeoutID;},500);handleUserActivity();window.addEventListener('mousemove',handleUserActivity);window.addEventListener('click',handleUserActivity);window.addEventListener('keydown',handleUserActivity);return function(){window.removeEventListener('mousemove',handleUserActivity);window.removeEventListener('click',handleUserActivity);window.removeEventListener('keydown',handleUserActivity);clearTimeout(timeoutIDRef.current);};},[]);return isUserActive;}
// CONCATENATED MODULE: ./src/hooks/useRoomState/useRoomState.tsx
function useRoomState(){var _useVideoContext=useVideoContext(),room=_useVideoContext.room;var _useState=Object(react["useState"])('disconnected'),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];Object(react["useEffect"])(function(){var setRoomState=function setRoomState(){return setState(room.state||'disconnected');};setRoomState();room.on('disconnected',setRoomState).on('reconnected',setRoomState).on('reconnecting',setRoomState);return function(){room.off('disconnected',setRoomState).off('reconnected',setRoomState).off('reconnecting',setRoomState);};},[room]);return state;}
// CONCATENATED MODULE: ./src/components/Controls/Controls.tsx
var Controls_useStyles=Object(makeStyles["a" /* default */])(function(theme){return Object(createStyles["a" /* default */])({container:{display:'flex',position:'absolute',right:'50%',transform:'translate(50%, 30px)',bottom:'50px',zIndex:1,transition:'opacity 1.2s, transform 1.2s, visibility 0s 1.2s',opacity:0,visibility:'hidden','&.showControls, &:hover':{transition:'opacity 0.6s, transform 0.6s, visibility 0s',opacity:1,visibility:'visible',transform:'translate(50%, 0px)'}}});});function Controls(){var classes=Controls_useStyles();var roomState=useRoomState();var isReconnecting=roomState==='reconnecting';var isUserActive=useIsUserActive();var showControls=isUserActive||roomState==='disconnected';return react_default.a.createElement("div",{className:Object(clsx_m["a" /* default */])(classes.container,{showControls:showControls})},react_default.a.createElement(ToggleAudioButton,{disabled:isReconnecting}),react_default.a.createElement(ToggleVideoButton,{disabled:isReconnecting}),roomState!=='disconnected'&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(ToggleScreenShareButton,{disabled:isReconnecting}),react_default.a.createElement(EndCallButton,null)));}
// CONCATENATED MODULE: ./src/components/VideoTrack/VideoTrack.tsx
var Video=Object(styled["a" /* default */])('video')({width:'100%',maxHeight:'100%',objectFit:'contain'});function VideoTrack(_ref){var track=_ref.track,isLocal=_ref.isLocal,priority=_ref.priority;var ref=Object(react["useRef"])(null);Object(react["useEffect"])(function(){var el=ref.current;el.muted=true;if(track.setPriority&&priority){track.setPriority(priority);}track.attach(el);return function(){track.detach(el);if(track.setPriority&&priority){// Passing `null` to setPriority will set the track's priority to that which it was published with.
track.setPriority(null);}};},[track,priority]);// The local video track is mirrored.
var style=isLocal?{transform:'rotateY(180deg)'}:{};return react_default.a.createElement(Video,{ref:ref,style:style});}
// CONCATENATED MODULE: ./src/components/LocalVideoPreview/LocalVideoPreview.tsx
function LocalVideoPreview(){var _useVideoContext=useVideoContext(),localTracks=_useVideoContext.localTracks;var videoTrack=localTracks.find(function(track){return track.name==='camera';});return videoTrack?react_default.a.createElement(VideoTrack,{track:videoTrack,isLocal:true}):null;}
// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/AppBar/AppBar.js
var AppBar = __webpack_require__(351);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js
var Button = __webpack_require__(350);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js
var CircularProgress = __webpack_require__(353);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 19 modules
var TextField = __webpack_require__(358);

// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Fullscreen.js
var Fullscreen = __webpack_require__(158);
var Fullscreen_default = /*#__PURE__*/__webpack_require__.n(Fullscreen);

// EXTERNAL MODULE: ./node_modules/@material-ui/icons/FullscreenExit.js
var FullscreenExit = __webpack_require__(157);
var FullscreenExit_default = /*#__PURE__*/__webpack_require__.n(FullscreenExit);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/IconButton/IconButton.js
var IconButton = __webpack_require__(345);

// EXTERNAL MODULE: ./node_modules/fscreen/lib/index.js
var lib = __webpack_require__(45);
var lib_default = /*#__PURE__*/__webpack_require__.n(lib);

// CONCATENATED MODULE: ./src/hooks/useFullScreenToggle/useFullScreenToggle.tsx
function useFullScreenToggle(){var _useState=Object(react["useState"])(!!lib_default.a.fullscreenElement),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),isFullScreen=_useState2[0],setIsFullScreen=_useState2[1];Object(react["useEffect"])(function(){var onFullScreenChange=function onFullScreenChange(){return setIsFullScreen(!!lib_default.a.fullscreenElement);};lib_default.a.addEventListener('fullscreenchange',onFullScreenChange);return function(){lib_default.a.removeEventListener('fullscreenchange',onFullScreenChange);};},[]);var toggleFullScreen=Object(react["useCallback"])(function(){isFullScreen?lib_default.a.exitFullscreen():lib_default.a.requestFullscreen(document.documentElement);},[isFullScreen]);return[isFullScreen,toggleFullScreen];}
// CONCATENATED MODULE: ./src/components/ToggleFullScreenButton/ToggleFullScreenButton.tsx
var FullscreenButton=Object(styled["a" /* default */])(IconButton["a" /* default */])({marginLeft:'auto'});function ToggleFullscreenButton(){var _useFullScreenToggle=useFullScreenToggle(),_useFullScreenToggle2=Object(slicedToArray["a" /* default */])(_useFullScreenToggle,2),isFullScreen=_useFullScreenToggle2[0],toggleFullScreen=_useFullScreenToggle2[1];return react_default.a.createElement(FullscreenButton,{"aria-label":"full screen",onClick:toggleFullScreen},isFullScreen?react_default.a.createElement(FullscreenExit_default.a,null):react_default.a.createElement(Fullscreen_default.a,null));}
// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Toolbar/Toolbar.js
var Toolbar = __webpack_require__(352);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Dialog/Dialog.js + 2 modules
var Dialog = __webpack_require__(360);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/DialogActions/DialogActions.js
var DialogActions = __webpack_require__(349);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/DialogContent/DialogContent.js
var DialogContent = __webpack_require__(347);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/DialogContentText/DialogContentText.js
var DialogContentText = __webpack_require__(348);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js
var DialogTitle = __webpack_require__(346);

// EXTERNAL MODULE: ./package.json
var package_0 = __webpack_require__(159);

// CONCATENATED MODULE: ./src/components/MenuBar/AboutDialog/AboutDialog.tsx
function AboutDialog(_ref){var open=_ref.open,onClose=_ref.onClose;return react_default.a.createElement(Dialog["a" /* default */],{open:open,onClose:onClose,fullWidth:true,maxWidth:"xs"},react_default.a.createElement(DialogTitle["a" /* default */],null,"About:"),react_default.a.createElement(DialogContent["a" /* default */],null,react_default.a.createElement(DialogContentText["a" /* default */],null,"Browser supported: ",String(es5_default.a.isSupported)),react_default.a.createElement(DialogContentText["a" /* default */],null,"SDK Version: ",es5_default.a.version),react_default.a.createElement(DialogContentText["a" /* default */],null,"App Version: ",package_0["a" /* version */]),react_default.a.createElement(DialogContentText["a" /* default */],null,"Deployed Tag: ",Object({"NODE_ENV":"production","PUBLIC_URL":"","REACT_APP_SET_AUTH":"passcode"}).REACT_APP_GIT_TAG||'N/A'),react_default.a.createElement(DialogContentText["a" /* default */],null,"Deployed Commit Hash: ",Object({"NODE_ENV":"production","PUBLIC_URL":"","REACT_APP_SET_AUTH":"passcode"}).REACT_APP_GIT_COMMIT||'N/A')),react_default.a.createElement(DialogActions["a" /* default */],null,react_default.a.createElement(Button["a" /* default */],{onClick:onClose,color:"primary",autoFocus:true},"OK")));}/* harmony default export */ var AboutDialog_AboutDialog = (AboutDialog);
// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Menu/Menu.js + 3 modules
var Menu = __webpack_require__(167);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js + 1 modules
var MenuItem = __webpack_require__(365);

// EXTERNAL MODULE: ./node_modules/@material-ui/icons/MoreVert.js
var MoreVert = __webpack_require__(162);
var MoreVert_default = /*#__PURE__*/__webpack_require__.n(MoreVert);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Avatar/Avatar.js + 1 modules
var Avatar = __webpack_require__(364);

// EXTERNAL MODULE: ./node_modules/@material-ui/styles/esm/makeStyles/makeStyles.js + 22 modules
var makeStyles_makeStyles = __webpack_require__(306);

// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Person.js
var Person = __webpack_require__(160);
var Person_default = /*#__PURE__*/__webpack_require__.n(Person);

// CONCATENATED MODULE: ./src/components/MenuBar/UserAvatar/UserAvatar.tsx
var UserAvatar_useStyles=Object(makeStyles_makeStyles["a" /* default */])({red:{color:'white',backgroundColor:'#F22F46'}});function getInitials(name){return name.split(' ').map(function(text){return text[0];}).join('').toUpperCase();}function UserAvatar(_ref){var user=_ref.user;var classes=UserAvatar_useStyles();var _ref2=user,displayName=_ref2.displayName,photoURL=_ref2.photoURL;return photoURL?react_default.a.createElement(Avatar["a" /* default */],{src:photoURL}):react_default.a.createElement(Avatar["a" /* default */],{className:classes.red},displayName?getInitials(displayName):react_default.a.createElement(Person_default.a,null));}
// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(35);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);

// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(52);

// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.cjs.js
var index_cjs = __webpack_require__(58);

// EXTERNAL MODULE: ./node_modules/firebase/auth/dist/index.esm.js
var index_esm = __webpack_require__(302);

// CONCATENATED MODULE: ./src/state/useFirebaseAuth/useFirebaseAuth.ts
var firebaseConfig={apiKey:Object({"NODE_ENV":"production","PUBLIC_URL":"","REACT_APP_SET_AUTH":"passcode"}).REACT_APP_FIREBASE_API_KEY,authDomain:Object({"NODE_ENV":"production","PUBLIC_URL":"","REACT_APP_SET_AUTH":"passcode"}).REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:Object({"NODE_ENV":"production","PUBLIC_URL":"","REACT_APP_SET_AUTH":"passcode"}).REACT_APP_FIREBASE_DATABASE_URL,storageBucket:Object({"NODE_ENV":"production","PUBLIC_URL":"","REACT_APP_SET_AUTH":"passcode"}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({"NODE_ENV":"production","PUBLIC_URL":"","REACT_APP_SET_AUTH":"passcode"}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID};function useFirebaseAuth(){var _useState=Object(react["useState"])(null),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=Object(react["useState"])(false),_useState4=Object(slicedToArray["a" /* default */])(_useState3,2),isAuthReady=_useState4[0],setIsAuthReady=_useState4[1];var getToken=Object(react["useCallback"])(/*#__PURE__*/function(){var _ref=Object(asyncToGenerator["a" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(identity,roomName){var headers,idToken,endpoint,params;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:headers=new window.Headers();_context.next=3;return user.getIdToken();case 3:idToken=_context.sent;headers.set('Authorization',idToken);endpoint=Object({"NODE_ENV":"production","PUBLIC_URL":"","REACT_APP_SET_AUTH":"passcode"}).REACT_APP_TOKEN_ENDPOINT||'/token';params=new window.URLSearchParams({identity:identity,roomName:roomName});return _context.abrupt("return",fetch("".concat(endpoint,"?").concat(params),{headers:headers}).then(function(res){return res.text();}));case 8:case"end":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}(),[user]);Object(react["useEffect"])(function(){index_cjs["initializeApp"](firebaseConfig);index_cjs["auth"]().onAuthStateChanged(function(user){setUser(user);setIsAuthReady(true);});},[]);var signIn=Object(react["useCallback"])(function(){var provider=new index_cjs["auth"].GoogleAuthProvider();provider.addScope('https://www.googleapis.com/auth/plus.login');return index_cjs["auth"]().signInWithPopup(provider).then(function(user){setUser(user.user);});},[]);var signOut=Object(react["useCallback"])(function(){return index_cjs["auth"]().signOut().then(function(){setUser(null);});},[]);return{user:user,signIn:signIn,signOut:signOut,isAuthReady:isAuthReady,getToken:getToken};}
// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js + 1 modules
var react_router = __webpack_require__(38);

// CONCATENATED MODULE: ./src/state/usePasscodeAuth/usePasscodeAuth.ts
function getPasscode(){var match=window.location.search.match(/passcode=(.*)&?/);var passcode=match?match[1]:window.sessionStorage.getItem('passcode');return passcode;}function fetchToken(name,room,passcode){return fetch("https://video-app-4538-dev.twil.io/token?passcode=3022574538",{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({user_identity:name,room_name:room,passcode:passcode})});}function verifyPasscode(passcode){return fetchToken('temp-name','temp-room',passcode).then(/*#__PURE__*/function(){var _ref=Object(asyncToGenerator["a" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(res){var jsonResponse,_jsonResponse$error;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return res.json();case 2:jsonResponse=_context.sent;if(!(res.status===401)){_context.next=5;break;}return _context.abrupt("return",{isValid:false,error:(_jsonResponse$error=jsonResponse.error)===null||_jsonResponse$error===void 0?void 0:_jsonResponse$error.message});case 5:if(!(res.ok&&jsonResponse.token)){_context.next=7;break;}return _context.abrupt("return",{isValid:true});case 7:case"end":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}function getErrorMessage(message){switch(message){case'passcode incorrect':return'Passcode is incorrect';case'passcode expired':return'Passcode has expired';default:return message;}}function usePasscodeAuth(){var history=Object(react_router["g" /* useHistory */])();var _useState=Object(react["useState"])(null),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=Object(react["useState"])(false),_useState4=Object(slicedToArray["a" /* default */])(_useState3,2),isAuthReady=_useState4[0],setIsAuthReady=_useState4[1];var getToken=Object(react["useCallback"])(function(name,room){return fetchToken(name,room,user.passcode).then(/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator["a" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(res){var _json$error;var json,errorMessage;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!res.ok){_context2.next=2;break;}return _context2.abrupt("return",res);case 2:_context2.next=4;return res.json();case 4:json=_context2.sent;errorMessage=getErrorMessage(((_json$error=json.error)===null||_json$error===void 0?void 0:_json$error.message)||res.statusText);throw Error(errorMessage);case 7:case"end":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}()).then(function(res){return res.json();}).then(function(res){return res.token;});},[user]);Object(react["useEffect"])(function(){var passcode=getPasscode();if(passcode){verifyPasscode(passcode).then(function(verification){if(verification===null||verification===void 0?void 0:verification.isValid){setUser({passcode:passcode});window.sessionStorage.setItem('passcode',passcode);history.replace(window.location.pathname);}}).then(function(){return setIsAuthReady(true);});}else{setIsAuthReady(true);}},[history]);var signIn=Object(react["useCallback"])(function(passcode){return verifyPasscode(passcode).then(function(verification){if(verification===null||verification===void 0?void 0:verification.isValid){setUser({passcode:passcode});window.sessionStorage.setItem('passcode',passcode);}else{throw new Error(getErrorMessage(verification===null||verification===void 0?void 0:verification.error));}});},[]);var signOut=Object(react["useCallback"])(function(){setUser(null);window.sessionStorage.removeItem('passcode');return Promise.resolve();},[]);return{user:user,isAuthReady:isAuthReady,getToken:getToken,signIn:signIn,signOut:signOut};}
// CONCATENATED MODULE: ./src/state/index.tsx
var StateContext=Object(react["createContext"])(null);/*
  The 'react-hooks/rules-of-hooks' linting rules prevent React Hooks fron being called
  inside of if() statements. This is because hooks must always be called in the same order
  every time a component is rendered. The 'react-hooks/rules-of-hooks' rule is disabled below
  because the "if (process.env.REACT_APP_SET_AUTH === 'firebase')" statements are evaluated
  at build time (not runtime). If the statement evaluates to false, then the code is not
  included in the bundle that is produced (due to tree-shaking). Thus, in this instance, it
  is ok to call hooks inside if() statements.
*/function AppStateProvider(props){var _useState=Object(react["useState"])(null),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=Object(react["useState"])(false),_useState4=Object(slicedToArray["a" /* default */])(_useState3,2),isFetching=_useState4[0],setIsFetching=_useState4[1];var contextValue={error:error,setError:setError,isFetching:isFetching};if(false){}else if(true){contextValue=Object(objectSpread2["a" /* default */])({},contextValue,{},usePasscodeAuth());}else{}var getToken=function getToken(name,room){setIsFetching(true);return contextValue.getToken(name,room).then(function(res){setIsFetching(false);return res;}).catch(function(err){setError(err);setIsFetching(false);return Promise.reject(err);});};return react_default.a.createElement(StateContext.Provider,{value:Object(objectSpread2["a" /* default */])({},contextValue,{getToken:getToken})},props.children);}function useAppState(){var context=Object(react["useContext"])(StateContext);if(!context){throw new Error('useAppState must be used within the AppStateProvider');}return context;}
// CONCATENATED MODULE: ./src/components/MenuBar/Menu/Menu.tsx
function Menu_Menu(){var _useAppState=useAppState(),user=_useAppState.user,signOut=_useAppState.signOut;var _useVideoContext=useVideoContext(),room=_useVideoContext.room,localTracks=_useVideoContext.localTracks;var _useState=Object(react["useState"])(false),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),aboutOpen=_useState2[0],setAboutOpen=_useState2[1];var _useState3=Object(react["useState"])(false),_useState4=Object(slicedToArray["a" /* default */])(_useState3,2),menuOpen=_useState4[0],setMenuOpen=_useState4[1];var anchorRef=Object(react["useRef"])(null);var handleSignOut=Object(react["useCallback"])(function(){var _room$disconnect;(_room$disconnect=room.disconnect)===null||_room$disconnect===void 0?void 0:_room$disconnect.call(room);localTracks.forEach(function(track){return track.stop();});signOut===null||signOut===void 0?void 0:signOut();},[room.disconnect,localTracks,signOut]);return react_default.a.createElement("div",{ref:anchorRef},react_default.a.createElement(IconButton["a" /* default */],{color:"inherit",onClick:function onClick(){return setMenuOpen(function(state){return!state;});}},user?react_default.a.createElement(UserAvatar,{user:user}):react_default.a.createElement(MoreVert_default.a,null)),react_default.a.createElement(Menu["a" /* default */],{open:menuOpen,onClose:function onClose(){return setMenuOpen(function(state){return!state;});},anchorEl:anchorRef.current},(user===null||user===void 0?void 0:user.displayName)&&react_default.a.createElement(MenuItem["a" /* default */],{disabled:true},user.displayName),react_default.a.createElement(MenuItem["a" /* default */],{onClick:function onClick(){return setAboutOpen(true);}},"About"),user&&react_default.a.createElement(MenuItem["a" /* default */],{onClick:handleSignOut},"Logout")),react_default.a.createElement(AboutDialog_AboutDialog,{open:aboutOpen,onClose:function onClose(){setAboutOpen(false);setMenuOpen(false);}}));}
// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js
var Typography = __webpack_require__(171);

// CONCATENATED MODULE: ./src/components/MenuBar/MenuBar.tsx
var MenuBar_useStyles=Object(makeStyles["a" /* default */])(function(theme){return Object(createStyles["a" /* default */])({container:{backgroundColor:theme.palette.background.default},form:{display:'flex',alignItems:'center'},textField:{marginLeft:theme.spacing(1),marginRight:theme.spacing(1),width:200},loadingSpinner:{marginLeft:'1em'},displayName:{marginLeft:'2.2em',minWidth:'200px',fontWeight:600}});});function MenuBar(){var classes=MenuBar_useStyles();var _useParams=Object(react_router["i" /* useParams */])(),URLRoomName=_useParams.URLRoomName;var _useAppState=useAppState(),user=_useAppState.user,getToken=_useAppState.getToken,isFetching=_useAppState.isFetching;var _useVideoContext=useVideoContext(),isConnecting=_useVideoContext.isConnecting,connect=_useVideoContext.connect;var roomState=useRoomState();var _useState=Object(react["useState"])((user===null||user===void 0?void 0:user.displayName)||''),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=Object(react["useState"])(''),_useState4=Object(slicedToArray["a" /* default */])(_useState3,2),roomName=_useState4[0],setRoomName=_useState4[1];Object(react["useEffect"])(function(){if(URLRoomName){setRoomName(URLRoomName);}},[URLRoomName]);var handleNameChange=function handleNameChange(event){setName(event.target.value);};var handleRoomNameChange=function handleRoomNameChange(event){setRoomName(event.target.value);};var handleSubmit=function handleSubmit(event){event.preventDefault();// If this app is deployed as a twilio function, don't change the URL beacuse routing isn't supported.
if(!window.location.origin.includes('twil.io')){window.history.replaceState(null,'',window.encodeURI("/room/".concat(roomName)));}getToken(name,roomName).then(function(token){return connect(token);});};return react_default.a.createElement(AppBar["a" /* default */],{className:classes.container,position:"static"},react_default.a.createElement(Toolbar["a" /* default */],null,roomState==='disconnected'?react_default.a.createElement("form",{className:classes.form,onSubmit:handleSubmit},!(user===null||user===void 0?void 0:user.displayName)?react_default.a.createElement(TextField["a" /* default */],{id:"menu-name",label:"Name",className:classes.textField,value:name,onChange:handleNameChange,margin:"dense"}):react_default.a.createElement(Typography["a" /* default */],{className:classes.displayName,variant:"body1"},user.displayName),react_default.a.createElement(TextField["a" /* default */],{id:"menu-room",label:"Room",className:classes.textField,value:roomName,onChange:handleRoomNameChange,margin:"dense"}),react_default.a.createElement(Button["a" /* default */],{type:"submit",color:"primary",variant:"contained",disabled:isConnecting||!name||!roomName||isFetching},"Join Room"),(isConnecting||isFetching)&&react_default.a.createElement(CircularProgress["a" /* default */],{className:classes.loadingSpinner})):react_default.a.createElement("h3",null,roomName),react_default.a.createElement(ToggleFullscreenButton,null),react_default.a.createElement(Menu_Menu,null)));}
// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Info.js
var Info = __webpack_require__(163);
var Info_default = /*#__PURE__*/__webpack_require__.n(Info);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Snackbar/Snackbar.js + 1 modules
var Snackbar = __webpack_require__(366);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/SnackbarContent/SnackbarContent.js
var SnackbarContent = __webpack_require__(354);

// CONCATENATED MODULE: ./src/components/ReconnectingNotification/ReconnectingNotification.tsx
var ReconnectingNotification_useStyles=Object(makeStyles["a" /* default */])({snackbar:{backgroundColor:'#6db1ff'},message:{display:'flex',alignItems:'center'},icon:{marginRight:'0.8em'}});function ReconnectingNotification(){var classes=ReconnectingNotification_useStyles();var roomState=useRoomState();return react_default.a.createElement(Snackbar["a" /* default */],{anchorOrigin:{vertical:'bottom',horizontal:'right'},open:roomState==='reconnecting'},react_default.a.createElement(SnackbarContent["a" /* default */],{className:classes.snackbar,message:react_default.a.createElement("span",{className:classes.message},react_default.a.createElement(Info_default.a,{className:classes.icon}),"Reconnecting\u2026")}));}
// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js
var defineProperty = __webpack_require__(34);

// EXTERNAL MODULE: ./node_modules/@material-ui/icons/ErrorOutline.js
var ErrorOutline = __webpack_require__(81);
var ErrorOutline_default = /*#__PURE__*/__webpack_require__.n(ErrorOutline);

// CONCATENATED MODULE: ./src/components/BandwidthWarning/BandwidthWarning.tsx
var BandwidthWarningContainer=Object(styled["a" /* default */])('div')({position:'absolute',zIndex:1,width:'100%',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center'});var Warning=Object(styled["a" /* default */])('h3')({textAlign:'center',margin:'0.6em 0'});function BandwidthWarning(){return react_default.a.createElement(BandwidthWarningContainer,null,react_default.a.createElement("div",null,react_default.a.createElement(ErrorOutline_default.a,{fontSize:"large"})),react_default.a.createElement(Warning,null,"Insufficient Bandwidth"));}
// CONCATENATED MODULE: ./src/components/NewtorkQualityLevel/NetworkQualityLevel.tsx
var Container=Object(styled["a" /* default */])('div')({display:'flex',alignItems:'flex-end','& div':{width:'2px',border:'1px solid black',boxSizing:'content-box','&:not(:last-child)':{borderRight:'none'}}});var STEP=3;function NetworkQualityLevel(_ref){var qualityLevel=_ref.qualityLevel;if(qualityLevel===null)return null;return react_default.a.createElement(Container,null,[0,1,2,3,4].map(function(level){return react_default.a.createElement("div",{key:level,style:{height:"".concat(STEP*(level+1),"px"),background:qualityLevel>level?'#0c0':'#040'}});}));}
// CONCATENATED MODULE: ./src/hooks/useParticipantIsReconnecting/useParticipantIsReconnecting.ts
function useParticipantIsReconnecting(participant){var _useState=Object(react["useState"])(false),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),isReconnecting=_useState2[0],setIsReconnecting=_useState2[1];Object(react["useEffect"])(function(){var handleReconnecting=function handleReconnecting(){return setIsReconnecting(true);};var handleReconnected=function handleReconnected(){return setIsReconnecting(false);};participant.on('reconnecting',handleReconnecting);participant.on('reconnected',handleReconnected);return function(){participant.off('reconnecting',handleReconnecting);participant.off('reconnected',handleReconnected);};},[participant]);return isReconnecting;}
// CONCATENATED MODULE: ./src/components/ParticipantInfo/ParticipantConnectionIndicator/ParticipantConnectionIndicator.tsx
var ParticipantConnectionIndicator_useStyles=Object(makeStyles["a" /* default */])({indicator:{width:'10px',height:'10px',borderRadius:'100%',background:'#0c0',display:'inline-block',marginRight:'3px'},isReconnecting:{background:'#ffb100'}});function ParticipantConnectionIndicator(_ref){var participant=_ref.participant;var isReconnecting=useParticipantIsReconnecting(participant);var classes=ParticipantConnectionIndicator_useStyles();return react_default.a.createElement(Tooltip["a" /* default */],{title:isReconnecting?'Participant is reconnecting':'Participant is connected'},react_default.a.createElement("span",{className:Object(clsx_m["a" /* default */])(classes.indicator,Object(defineProperty["a" /* default */])({},classes.isReconnecting,isReconnecting))}));}
// EXTERNAL MODULE: ./node_modules/@primer/octicons-react/dist/index.esm.js
var dist_index_esm = __webpack_require__(164);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/SvgIcon/SvgIcon.js
var SvgIcon = __webpack_require__(75);

// CONCATENATED MODULE: ./src/components/ParticipantInfo/PinIcon/PinIcon.tsx
function PinIcon(){return react_default.a.createElement(Tooltip["a" /* default */],{title:"Participant is pinned. Click to un-pin.",placement:"top"},react_default.a.createElement(SvgIcon["a" /* default */],{style:{float:'right',fontSize:'29px'}},react_default.a.createElement(dist_index_esm["a" /* Pin */],null)));}
// CONCATENATED MODULE: ./src/hooks/useParticipantNetworkQualityLevel/useParticipantNetworkQualityLevel.tsx
function useParticipantNetworkQualityLevel(participant){var _useState=Object(react["useState"])(participant.networkQualityLevel),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),networkQualityLevel=_useState2[0],setNetworkQualityLevel=_useState2[1];Object(react["useEffect"])(function(){var handleNewtorkQualityLevelChange=function handleNewtorkQualityLevelChange(newNetworkQualityLevel){return setNetworkQualityLevel(newNetworkQualityLevel);};setNetworkQualityLevel(participant.networkQualityLevel);participant.on('networkQualityLevelChanged',handleNewtorkQualityLevelChange);return function(){participant.off('networkQualityLevelChanged',handleNewtorkQualityLevelChange);};},[participant]);return networkQualityLevel;}
// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules
var toConsumableArray = __webpack_require__(64);

// CONCATENATED MODULE: ./src/hooks/usePublications/usePublications.tsx
function usePublications(participant){var _useState=Object(react["useState"])([]),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),publications=_useState2[0],setPublications=_useState2[1];Object(react["useEffect"])(function(){// Reset the publications when the 'participant' variable changes.
setPublications(Array.from(participant.tracks.values()));var publicationAdded=function publicationAdded(publication){return setPublications(function(prevPublications){return[].concat(Object(toConsumableArray["a" /* default */])(prevPublications),[publication]);});};var publicationRemoved=function publicationRemoved(publication){return setPublications(function(prevPublications){return prevPublications.filter(function(p){return p!==publication;});});};participant.on('trackPublished',publicationAdded);participant.on('trackUnpublished',publicationRemoved);return function(){participant.off('trackPublished',publicationAdded);participant.off('trackUnpublished',publicationRemoved);};},[participant]);return publications;}
// CONCATENATED MODULE: ./src/hooks/useIsTrackSwitchedOff/useIsTrackSwitchedOff.tsx
// The 'switchedOff' event is emitted when there is not enough bandwidth to support
// a track. See: https://www.twilio.com/docs/video/tutorials/using-bandwidth-profile-api#understanding-track-switch-offs
function useIsTrackSwitchedOff(track){var _useState=Object(react["useState"])(track&&track.isSwitchedOff),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),isSwitchedOff=_useState2[0],setIsSwitchedOff=_useState2[1];Object(react["useEffect"])(function(){// Reset the value if the 'track' variable changes
setIsSwitchedOff(track&&track.isSwitchedOff);if(track){var handleSwitchedOff=function handleSwitchedOff(){return setIsSwitchedOff(true);};var handleSwitchedOn=function handleSwitchedOn(){return setIsSwitchedOff(false);};track.on('switchedOff',handleSwitchedOff);track.on('switchedOn',handleSwitchedOn);return function(){track.off('switchedOff',handleSwitchedOff);track.off('switchedOn',handleSwitchedOn);};}},[track]);return!!isSwitchedOff;}
// CONCATENATED MODULE: ./src/hooks/usePublicationIsTrackEnabled/usePublicationIsTrackEnabled.tsx
function usePublicationIsTrackEnabled(publication){var _useState=Object(react["useState"])(publication?publication.isTrackEnabled:false),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),isEnabled=_useState2[0],setIsEnabled=_useState2[1];Object(react["useEffect"])(function(){setIsEnabled(publication?publication.isTrackEnabled:false);if(publication){var setEnabled=function setEnabled(){return setIsEnabled(true);};var setDisabled=function setDisabled(){return setIsEnabled(false);};publication.on('trackEnabled',setEnabled);publication.on('trackDisabled',setDisabled);return function(){publication.off('trackEnabled',setEnabled);publication.off('trackDisabled',setDisabled);};}},[publication]);return isEnabled;}
// CONCATENATED MODULE: ./src/hooks/useTrack/useTrack.tsx
function useTrack(publication){var _useState=Object(react["useState"])(publication&&publication.track),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),track=_useState2[0],setTrack=_useState2[1];Object(react["useEffect"])(function(){// Reset the track when the 'publication' variable changes.
setTrack(publication&&publication.track);if(publication){var removeTrack=function removeTrack(){return setTrack(null);};publication.on('subscribed',setTrack);publication.on('unsubscribed',removeTrack);return function(){publication.off('subscribed',setTrack);publication.off('unsubscribed',removeTrack);};}},[publication]);return track;}
// CONCATENATED MODULE: ./src/components/ParticipantInfo/ParticipantInfo.tsx
var ParticipantInfo_useStyles=Object(makeStyles["a" /* default */])(function(theme){return Object(createStyles["a" /* default */])({container:{position:'relative',display:'flex',alignItems:'center',height:"".concat(theme.sidebarWidth*9/16,"px"),overflow:'hidden',cursor:'pointer','& video':{filter:'none'},'& svg':{stroke:'black',strokeWidth:'0.8px'}},isVideoSwitchedOff:{'& video':{filter:'blur(4px) grayscale(1) brightness(0.5)'}},infoContainer:{position:'absolute',zIndex:1,display:'flex',flexDirection:'column',justifyContent:'space-between',height:'100%',padding:'0.4em',width:'100%',background:'transparent'},hideVideo:{background:'black'},identity:{background:'rgba(0, 0, 0, 0.7)',padding:'0.1em 0.3em',margin:0,display:'flex',alignItems:'center'},infoRow:{display:'flex',justifyContent:'space-between'}});});function ParticipantInfo(_ref){var participant=_ref.participant,onClick=_ref.onClick,isSelected=_ref.isSelected,children=_ref.children;var publications=usePublications(participant);var audioPublication=publications.find(function(p){return p.kind==='audio';});var videoPublication=publications.find(function(p){return p.trackName==='camera';});var networkQualityLevel=useParticipantNetworkQualityLevel(participant);var isAudioEnabled=usePublicationIsTrackEnabled(audioPublication);var isVideoEnabled=Boolean(videoPublication);var isScreenShareEnabled=publications.find(function(p){return p.trackName==='screen';});var videoTrack=useTrack(videoPublication);var isVideoSwitchedOff=useIsTrackSwitchedOff(videoTrack);var classes=ParticipantInfo_useStyles();return react_default.a.createElement("div",{className:Object(clsx_m["a" /* default */])(classes.container,Object(defineProperty["a" /* default */])({},classes.isVideoSwitchedOff,isVideoSwitchedOff)),onClick:onClick,"data-cy-participant":participant.identity},react_default.a.createElement("div",{className:Object(clsx_m["a" /* default */])(classes.infoContainer,Object(defineProperty["a" /* default */])({},classes.hideVideo,!isVideoEnabled))},react_default.a.createElement("div",{className:classes.infoRow},react_default.a.createElement("h4",{className:classes.identity},react_default.a.createElement(ParticipantConnectionIndicator,{participant:participant}),participant.identity),react_default.a.createElement(NetworkQualityLevel,{qualityLevel:networkQualityLevel})),react_default.a.createElement("div",null,!isAudioEnabled&&react_default.a.createElement(MicOff_default.a,{"data-cy-audio-mute-icon":true}),!isVideoEnabled&&react_default.a.createElement(VideocamOff_default.a,null),isScreenShareEnabled&&react_default.a.createElement(ScreenShare_default.a,null),isSelected&&react_default.a.createElement(PinIcon,null))),isVideoSwitchedOff&&react_default.a.createElement(BandwidthWarning,null),children);}
// CONCATENATED MODULE: ./src/components/AudioTrack/AudioTrack.tsx
function AudioTrack(_ref){var track=_ref.track;var ref=Object(react["useRef"])(null);Object(react["useEffect"])(function(){var el=ref.current;track.attach(el);return function(){track.detach(el);};},[track]);return react_default.a.createElement("audio",{ref:ref});}
// CONCATENATED MODULE: ./src/components/Publication/Publication.tsx
function Publication(_ref){var publication=_ref.publication,isLocal=_ref.isLocal,disableAudio=_ref.disableAudio,videoPriority=_ref.videoPriority;var track=useTrack(publication);if(!track)return null;switch(track.kind){case'video':return react_default.a.createElement(VideoTrack,{track:track,priority:videoPriority,isLocal:track.name==='camera'&&isLocal});case'audio':return disableAudio?null:react_default.a.createElement(AudioTrack,{track:track});default:return null;}}
// CONCATENATED MODULE: ./src/components/ParticipantTracks/ParticipantTracks.tsx
/*
 *  The object model for the Room object (found here: https://www.twilio.com/docs/video/migrating-1x-2x#object-model) shows
 *  that Participant objects have TrackPublications, and TrackPublication objects have Tracks.
 *
 *  The React components in this application follow the same pattern. This ParticipantTracks component renders Publications,
 *  and the Publication component renders Tracks.
 */function ParticipantTracks(_ref){var participant=_ref.participant,disableAudio=_ref.disableAudio,enableScreenShare=_ref.enableScreenShare,videoPriority=_ref.videoPriority;var _useVideoContext=useVideoContext(),room=_useVideoContext.room;var publications=usePublications(participant);var isLocal=participant===room.localParticipant;var filteredPublications;if(enableScreenShare&&publications.some(function(p){return p.trackName==='screen';})){filteredPublications=publications.filter(function(p){return p.trackName!=='camera';});}else{filteredPublications=publications.filter(function(p){return p.trackName!=='screen';});}return react_default.a.createElement(react_default.a.Fragment,null,filteredPublications.map(function(publication){return react_default.a.createElement(Publication,{key:publication.kind,publication:publication,participant:participant,isLocal:isLocal,disableAudio:disableAudio,videoPriority:videoPriority});}));}
// CONCATENATED MODULE: ./src/components/Participant/Participant.tsx
function Participant(_ref){var participant=_ref.participant,disableAudio=_ref.disableAudio,enableScreenShare=_ref.enableScreenShare,onClick=_ref.onClick,isSelected=_ref.isSelected;return react_default.a.createElement(ParticipantInfo,{participant:participant,onClick:onClick,isSelected:isSelected},react_default.a.createElement(ParticipantTracks,{participant:participant,disableAudio:disableAudio,enableScreenShare:enableScreenShare}));}
// CONCATENATED MODULE: ./src/hooks/useDominantSpeaker/useDominantSpeaker.tsx
function useDominantSpeaker(){var _useVideoContext=useVideoContext(),room=_useVideoContext.room;var _useState=Object(react["useState"])(room.dominantSpeaker),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),dominantSpeaker=_useState2[0],setDominantSpeaker=_useState2[1];Object(react["useEffect"])(function(){// Sometimes, the 'dominantSpeakerChanged' event can emit 'null', which means that
// there is no dominant speaker. If we change the main participant when 'null' is
// emitted, the effect can be jarring to the user. Here we ignore any 'null' values
// and continue to display the previous dominant speaker as the main participant.
var handleDominantSpeakerChanged=function handleDominantSpeakerChanged(newDominantSpeaker){if(newDominantSpeaker!==null){setDominantSpeaker(newDominantSpeaker);}};// Since 'null' values are ignored, we will need to listen for the 'participantDisconnected'
// event, so we can set the dominantSpeaker to 'null' when they disconnect.
var handleParticipantDisconnected=function handleParticipantDisconnected(participant){setDominantSpeaker(function(prevDominantSpeaker){return prevDominantSpeaker===participant?null:prevDominantSpeaker;});};room.on('dominantSpeakerChanged',handleDominantSpeakerChanged);room.on('participantDisconnected',handleParticipantDisconnected);return function(){room.off('dominantSpeakerChanged',handleDominantSpeakerChanged);room.off('participantDisconnected',handleParticipantDisconnected);};},[room]);return dominantSpeaker;}
// CONCATENATED MODULE: ./src/hooks/useParticipants/useParticipants.tsx
function useParticipants(){var _useVideoContext=useVideoContext(),room=_useVideoContext.room;var dominantSpeaker=useDominantSpeaker();var _useState=Object(react["useState"])(Array.from(room.participants.values())),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),participants=_useState2[0],setParticipants=_useState2[1];// When the dominant speaker changes, they are moved to the front of the participants array.
// This means that the most recent dominant speakers will always be near the top of the
// ParticipantStrip component.
Object(react["useEffect"])(function(){if(dominantSpeaker){setParticipants(function(prevParticipants){return[dominantSpeaker].concat(Object(toConsumableArray["a" /* default */])(prevParticipants.filter(function(participant){return participant!==dominantSpeaker;})));});}},[dominantSpeaker]);Object(react["useEffect"])(function(){var participantConnected=function participantConnected(participant){return setParticipants(function(prevParticipants){return[].concat(Object(toConsumableArray["a" /* default */])(prevParticipants),[participant]);});};var participantDisconnected=function participantDisconnected(participant){return setParticipants(function(prevParticipants){return prevParticipants.filter(function(p){return p!==participant;});});};room.on('participantConnected',participantConnected);room.on('participantDisconnected',participantDisconnected);return function(){room.off('participantConnected',participantConnected);room.off('participantDisconnected',participantDisconnected);};},[room]);return participants;}
// CONCATENATED MODULE: ./src/components/ParticipantStrip/ParticipantStrip.tsx
var ParticipantStrip_Container=Object(styled["a" /* default */])('aside')(function(_ref){var theme=_ref.theme;return{position:'absolute',top:0,bottom:0,right:"calc(100% - ".concat(theme.sidebarWidth,"px)"),left:0,padding:'0.5em',overflowY:'auto'};});function ParticipantStrip(){var _useVideoContext=useVideoContext(),localParticipant=_useVideoContext.room.localParticipant;var participants=useParticipants();var _useSelectedParticipa=useSelectedParticipant(),_useSelectedParticipa2=Object(slicedToArray["a" /* default */])(_useSelectedParticipa,2),selectedParticipant=_useSelectedParticipa2[0],setSelectedParticipant=_useSelectedParticipa2[1];return react_default.a.createElement(ParticipantStrip_Container,null,react_default.a.createElement(Participant,{participant:localParticipant,isSelected:selectedParticipant===localParticipant,onClick:function onClick(){return setSelectedParticipant(localParticipant);}}),participants.map(function(participant){return react_default.a.createElement(Participant,{key:participant.sid,participant:participant,isSelected:selectedParticipant===participant,onClick:function onClick(){return setSelectedParticipant(participant);}});}));}
// CONCATENATED MODULE: ./src/components/MainParticipantInfo/MainParticipantInfo.tsx
var MainParticipantInfo_useStyles=Object(makeStyles["a" /* default */])({container:{position:'relative',display:'flex',alignItems:'center'},isVideoSwitchedOff:{'& video':{filter:'blur(4px) grayscale(1) brightness(0.5)'}},identity:{background:'rgba(0, 0, 0, 0.7)',padding:'0.1em 0.3em',margin:'1em',fontSize:'1.2em',display:'inline-flex','& svg':{marginLeft:'0.3em'}},infoContainer:{position:'absolute',zIndex:1,height:'100%',padding:'0.4em',width:'100%'}});function MainParticipantInfo(_ref){var participant=_ref.participant,children=_ref.children;var classes=MainParticipantInfo_useStyles();var publications=usePublications(participant);var videoPublication=publications.find(function(p){return p.trackName==='camera';});var screenSharePublication=publications.find(function(p){return p.trackName==='screen';});var isVideoEnabled=Boolean(videoPublication);var videoTrack=useTrack(screenSharePublication||videoPublication);var isVideoSwitchedOff=useIsTrackSwitchedOff(videoTrack);return react_default.a.createElement("div",{"data-cy-main-participant":true,className:Object(clsx_m["a" /* default */])(classes.container,Object(defineProperty["a" /* default */])({},classes.isVideoSwitchedOff,isVideoSwitchedOff))},react_default.a.createElement("div",{className:classes.infoContainer},react_default.a.createElement("h4",{className:classes.identity},participant.identity,!isVideoEnabled&&react_default.a.createElement(VideocamOff_default.a,null))),isVideoSwitchedOff&&react_default.a.createElement(BandwidthWarning,null),children);}
// CONCATENATED MODULE: ./src/hooks/useMainSpeaker/useMainSpeaker.tsx
function useMainSpeaker(){var _useSelectedParticipa=useSelectedParticipant(),_useSelectedParticipa2=Object(slicedToArray["a" /* default */])(_useSelectedParticipa,1),selectedParticipant=_useSelectedParticipa2[0];var screenShareParticipant=useScreenShareParticipant();var dominantSpeaker=useDominantSpeaker();var participants=useParticipants();var _useVideoContext=useVideoContext(),localParticipant=_useVideoContext.room.localParticipant;// The participant that is returned is displayed in the main video area. Changing the order of the following
// variables will change the how the main speaker is determined.
return selectedParticipant||screenShareParticipant||dominantSpeaker||participants[0]||localParticipant;}
// CONCATENATED MODULE: ./src/components/MainParticipant/MainParticipant.tsx
function MainParticipant(){var mainParticipant=useMainSpeaker();return(/* audio is disabled for this participant component because this participant's audio 
       is already being rendered in the <ParticipantStrip /> component.  */react_default.a.createElement(MainParticipantInfo,{participant:mainParticipant},react_default.a.createElement(ParticipantTracks,{participant:mainParticipant,disableAudio:true,enableScreenShare:true,videoPriority:"high"})));}
// CONCATENATED MODULE: ./src/components/Room/Room.tsx
var Room_Container=Object(styled["a" /* default */])('div')({position:'relative',height:'100%'});var MainParticipantContainer=Object(styled["a" /* default */])('div')(function(_ref){var theme=_ref.theme;return{position:'absolute',left:theme.sidebarWidth,right:0,top:0,bottom:0,'& > div':{height:'100%'}};});function Room(){return react_default.a.createElement(Room_Container,null,react_default.a.createElement(ParticipantStrip,null),react_default.a.createElement(MainParticipantContainer,null,react_default.a.createElement(MainParticipant,null)));}
// CONCATENATED MODULE: ./src/App.tsx
var App_Container=Object(styled["a" /* default */])('div')({display:'flex',flexDirection:'column',height:'100vh'});var Main=Object(styled["a" /* default */])('main')({height:'100%',position:'relative'});function App(){var roomState=useRoomState();return react_default.a.createElement(App_Container,null,react_default.a.createElement(MenuBar,null),react_default.a.createElement(Main,null,roomState==='disconnected'?react_default.a.createElement(LocalVideoPreview,null):react_default.a.createElement(Room,null),react_default.a.createElement(Controls,null)),react_default.a.createElement(ReconnectingNotification,null));}
// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js
var react_router_dom = __webpack_require__(48);

// CONCATENATED MODULE: ./src/components/ErrorDialog/enhanceMessage.ts
// This function is used to provide error messages to the user that are
// different than the error messages provided by the SDK.
function enhanceMessage(){var message=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var code=arguments.length>1?arguments[1]:undefined;switch(code){case 20101:// Invalid token error
return message+'. Please make sure you are using the correct credentials.';default:return message;}}
// CONCATENATED MODULE: ./src/components/ErrorDialog/ErrorDialog.tsx
function ErrorDialog(_ref){var dismissError=_ref.dismissError,error=_ref.error;var _ref2=error||{},message=_ref2.message,code=_ref2.code;var enhancedMessage=enhanceMessage(message,code);return react_default.a.createElement(Dialog["a" /* default */],{open:error!==null,onClose:function onClose(){return dismissError();},fullWidth:true,maxWidth:"xs"},react_default.a.createElement(DialogTitle["a" /* default */],null,"ERROR"),react_default.a.createElement(DialogContent["a" /* default */],null,react_default.a.createElement(DialogContentText["a" /* default */],null,enhancedMessage),code&&react_default.a.createElement("pre",null,react_default.a.createElement("code",null,"Error Code: ",code))),react_default.a.createElement(DialogActions["a" /* default */],null,react_default.a.createElement(Button["a" /* default */],{onClick:function onClick(){return dismissError();},color:"primary",autoFocus:true},"OK")));}/* harmony default export */ var ErrorDialog_ErrorDialog = (ErrorDialog);
// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js
var Grid = __webpack_require__(356);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Paper/Paper.js
var Paper = __webpack_require__(170);

// CONCATENATED MODULE: ./node_modules/@svgr/webpack/lib?-svgo,+titleProp,+ref!./src/components/LoginPage/google-logo.svg
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }



var google_logo_ref2 =
/*#__PURE__*/
react_default.a.createElement("title", null, "btn_google_light_normal_ios");

var _ref3 =
/*#__PURE__*/
react_default.a.createElement("desc", null, "Created with Sketch.");

var _ref4 =
/*#__PURE__*/
react_default.a.createElement("defs", null, react_default.a.createElement("filter", {
  x: "-50%",
  y: "-50%",
  width: "200%",
  height: "200%",
  filterUnits: "objectBoundingBox",
  id: "filter-1"
}, react_default.a.createElement("feOffset", {
  dx: 0,
  dy: 1,
  in: "SourceAlpha",
  result: "shadowOffsetOuter1"
}), react_default.a.createElement("feGaussianBlur", {
  stdDeviation: 0.5,
  in: "shadowOffsetOuter1",
  result: "shadowBlurOuter1"
}), react_default.a.createElement("feColorMatrix", {
  values: "0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",
  in: "shadowBlurOuter1",
  type: "matrix",
  result: "shadowMatrixOuter1"
}), react_default.a.createElement("feOffset", {
  dx: 0,
  dy: 0,
  in: "SourceAlpha",
  result: "shadowOffsetOuter2"
}), react_default.a.createElement("feGaussianBlur", {
  stdDeviation: 0.5,
  in: "shadowOffsetOuter2",
  result: "shadowBlurOuter2"
}), react_default.a.createElement("feColorMatrix", {
  values: "0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",
  in: "shadowBlurOuter2",
  type: "matrix",
  result: "shadowMatrixOuter2"
}), react_default.a.createElement("feMerge", null, react_default.a.createElement("feMergeNode", {
  in: "shadowMatrixOuter1"
}), react_default.a.createElement("feMergeNode", {
  in: "shadowMatrixOuter2"
}), react_default.a.createElement("feMergeNode", {
  in: "SourceGraphic"
}))), react_default.a.createElement("rect", {
  id: "path-2",
  x: 0,
  y: 0,
  width: 40,
  height: 40,
  rx: 2
}));

var _ref5 =
/*#__PURE__*/
react_default.a.createElement("g", {
  id: "Google-Button",
  stroke: "none",
  strokeWidth: 1,
  fill: "none",
  fillRule: "evenodd"
}, react_default.a.createElement("g", {
  id: "9-PATCH",
  transform: "translate(-608.000000, -160.000000)"
}), react_default.a.createElement("g", {
  id: "btn_google_light_normal",
  transform: "translate(-1.000000, -1.000000)"
}, react_default.a.createElement("g", {
  id: "logo_googleg_48dp",
  transform: "translate(15.000000, 15.000000)"
}, react_default.a.createElement("path", {
  d: "M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",
  id: "Shape",
  fill: "#4285F4"
}), react_default.a.createElement("path", {
  d: "M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",
  id: "Shape",
  fill: "#34A853"
}), react_default.a.createElement("path", {
  d: "M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",
  id: "Shape",
  fill: "#FBBC05"
}), react_default.a.createElement("path", {
  d: "M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",
  id: "Shape",
  fill: "#EA4335"
}), react_default.a.createElement("path", {
  d: "M0,0 L18,0 L18,18 L0,18 L0,0 Z",
  id: "Shape"
})), react_default.a.createElement("g", {
  id: "handles_square"
})));

var google_logo_SvgGoogleLogo = function SvgGoogleLogo(_ref) {
  var svgRef = _ref.svgRef,
      title = _ref.title,
      props = _objectWithoutProperties(_ref, ["svgRef", "title"]);

  return react_default.a.createElement("svg", _extends({
    width: "32px",
    height: "32px",
    viewBox: "7 7 32 32",
    ref: svgRef
  }, props), title === undefined ? google_logo_ref2 : title ? react_default.a.createElement("title", null, title) : null, _ref3, _ref4, _ref5);
};

var ForwardRef = react_default.a.forwardRef(function (props, ref) {
  return react_default.a.createElement(google_logo_SvgGoogleLogo, _extends({
    svgRef: ref
  }, props));
});
/* harmony default export */ var google_logo = (__webpack_require__.p + "static/media/google-logo.1b8c51ce.svg");

// CONCATENATED MODULE: ./node_modules/@svgr/webpack/lib?-svgo,+titleProp,+ref!./src/components/LoginPage/twilio-logo.svg
function twilio_logo_extends() { twilio_logo_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return twilio_logo_extends.apply(this, arguments); }

function twilio_logo_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = twilio_logo_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function twilio_logo_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }



var twilio_logo_ref2 =
/*#__PURE__*/
react_default.a.createElement("path", {
  d: "M14.4 11.3c0 1.7-1.4 3.1-3.1 3.1S8.2 13 8.2 11.3s1.4-3.1 3.1-3.1 3.1 1.4 3.1 3.1zm-3.1 4.3c-1.7 0-3.1 1.4-3.1 3.1s1.4 3.1 3.1 3.1 3.1-1.4 3.1-3.1-1.4-3.1-3.1-3.1zM30 15c0 8.3-6.7 15-15 15S0 23.3 0 15 6.7 0 15 0s15 6.7 15 15zm-4 0c0-6.1-4.9-11-11-11S4 8.9 4 15s4.9 11 11 11 11-4.9 11-11zm-7.3.6c-1.7 0-3.1 1.4-3.1 3.1s1.4 3.1 3.1 3.1 3.1-1.4 3.1-3.1-1.4-3.1-3.1-3.1zm0-7.4c-1.7 0-3.1 1.4-3.1 3.1s1.4 3.1 3.1 3.1 3.1-1.4 3.1-3.1-1.4-3.1-3.1-3.1zm51.6-2.3c.1 0 .2.1.3.2v3.2c0 .2-.2.3-.3.3H65c-.2 0-.3-.2-.3-.3V6.2c0-.2.2-.3.3-.3h5.3zm-.1 4.5H60c-.1 0-.3.1-.3.3l-1.3 5-.1.3-1.6-5.3c0-.1-.2-.3-.3-.3h-4c-.1 0-.3.1-.3.3l-1.5 5-.1.3-.1-.3-.6-2.5-.6-2.5c0-.1-.2-.3-.3-.3h-8V6.1c0-.1-.2-.3-.4-.2l-5 1.6c-.2 0-.3.1-.3.3v2.7h-1.3c-.1 0-.3.1-.3.3v3.8c0 .1.1.3.3.3h1.3v4.7c0 3.3 1.8 4.8 5.1 4.8 1.4 0 2.7-.3 3.6-.8v-4c0-.2-.2-.3-.3-.2-.5.2-1 .3-1.4.3-.9 0-1.4-.4-1.4-1.4v-3.4h2.9c.1 0 .3-.1.3-.3v-3.2L47.8 24c0 .1.2.3.3.3h4.2c.1 0 .3-.1.3-.3l1.8-5.6.9 2.9.8 2.7c0 .1.2.3.3.3h4.2c.1 0 .3-.1.3-.3l3.8-12.6V24c0 .1.1.3.3.3h5.1c.1 0 .3-.1.3-.3V10.7c0-.1-.1-.3-.2-.3zm6.7-4.5h-5.1c-.1 0-.3.1-.3.3v17.7c0 .1.1.3.3.3h5.1c.1 0 .3-.1.3-.3V6.1c0-.1-.1-.2-.3-.2zm6.8 0h-5.3c-.1 0-.3.1-.3.3v3.1c0 .1.1.3.3.3h5.3c.1 0 .3-.1.3-.3V6.1c0-.1-.1-.2-.3-.2zm-.1 4.5h-5.1c-.1 0-.3.1-.3.3v13.1c0 .1.1.3.3.3h5.1c.1 0 .3-.1.3-.3V10.7c0-.1-.1-.3-.3-.3zm16.1 6.8c0 3.8-3.2 7.1-7.7 7.1-4.4 0-7.6-3.3-7.6-7.1s3.2-7.1 7.7-7.1c4.4 0 7.6 3.3 7.6 7.1zm-5.4.1c0-1.4-1-2.5-2.2-2.4-1.3 0-2.2 1.1-2.2 2.4s1 2.4 2.2 2.4c1.3 0 2.2-1.1 2.2-2.4z"
});

var twilio_logo_SvgTwilioLogo = function SvgTwilioLogo(_ref) {
  var svgRef = _ref.svgRef,
      title = _ref.title,
      props = twilio_logo_objectWithoutProperties(_ref, ["svgRef", "title"]);

  return react_default.a.createElement("svg", twilio_logo_extends({
    fill: "#F22F46",
    viewBox: "0 0 100 30",
    ref: svgRef
  }, props), title ? react_default.a.createElement("title", null, title) : null, twilio_logo_ref2);
};

var twilio_logo_ForwardRef = react_default.a.forwardRef(function (props, ref) {
  return react_default.a.createElement(twilio_logo_SvgTwilioLogo, twilio_logo_extends({
    svgRef: ref
  }, props));
});
/* harmony default export */ var twilio_logo = (__webpack_require__.p + "static/media/twilio-logo.0e04ea74.svg");

// EXTERNAL MODULE: ./src/components/LoginPage/video-logo.png
var video_logo = __webpack_require__(165);
var video_logo_default = /*#__PURE__*/__webpack_require__.n(video_logo);

// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/createMuiTheme.js + 15 modules
var createMuiTheme = __webpack_require__(166);

// CONCATENATED MODULE: ./src/components/LoginPage/LoginPage.tsx
var LoginPage_useStyles=Object(makeStyles["a" /* default */])({container:{height:'100vh',background:'#0D122B'},twilioLogo:{width:'55%',display:'block'},videoLogo:{width:'25%',padding:'2.4em 0 2.1em'},paper:{display:'flex',alignItems:'center',flexDirection:'column',padding:'2em',marginTop:'4em',background:'white',color:'black'},button:{color:'black',background:'white',margin:'0.8em 0 0.7em',textTransform:'none'},errorMessage:{color:'red',display:'flex',alignItems:'center',margin:'1em 0 0.2em','& svg':{marginRight:'0.4em'}}});var LoginPage_theme=Object(createMuiTheme["a" /* default */])({palette:{type:'light'}});function LoginPage(){var classes=LoginPage_useStyles();var _useAppState=useAppState(),signIn=_useAppState.signIn,user=_useAppState.user,isAuthReady=_useAppState.isAuthReady;var history=Object(react_router["g" /* useHistory */])();var location=Object(react_router["h" /* useLocation */])();var _useState=Object(react["useState"])(''),_useState2=Object(slicedToArray["a" /* default */])(_useState,2),passcode=_useState2[0],setPasscode=_useState2[1];var _useState3=Object(react["useState"])(null),_useState4=Object(slicedToArray["a" /* default */])(_useState3,2),authError=_useState4[0],setAuthError=_useState4[1];var isAuthEnabled=Boolean("passcode");var login=function login(){setAuthError(null);signIn===null||signIn===void 0?void 0:signIn(passcode).then(function(){var _location$state;history.replace((location===null||location===void 0?void 0:(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.from)||{pathname:'/'});}).catch(function(err){return setAuthError(err);});};var handleSubmit=function handleSubmit(e){e.preventDefault();login();};if(user||!isAuthEnabled){history.replace('/');}if(!isAuthReady){return null;}return react_default.a.createElement(ThemeProvider["a" /* default */],{theme:LoginPage_theme},react_default.a.createElement(Grid["a" /* default */],{container:true,justify:"center",alignItems:"flex-start",className:classes.container},react_default.a.createElement(Paper["a" /* default */],{className:classes.paper,elevation:6},react_default.a.createElement(twilio_logo_ForwardRef,{className:classes.twilioLogo}),react_default.a.createElement("img",{className:classes.videoLogo,src:video_logo_default.a,alt:"Video Logo"}), false&&false, true&&react_default.a.createElement("form",{onSubmit:handleSubmit},react_default.a.createElement(Grid["a" /* default */],{container:true,alignItems:"center",direction:"column"},react_default.a.createElement(TextField["a" /* default */],{id:"input-passcode",label:"Passcode",onChange:function onChange(e){return setPasscode(e.target.value);},type:"password"}),react_default.a.createElement("div",null,authError&&react_default.a.createElement(Typography["a" /* default */],{variant:"caption",className:classes.errorMessage},react_default.a.createElement(ErrorOutline_default.a,null),authError.message)),react_default.a.createElement(Button["a" /* default */],{variant:"contained",className:classes.button,type:"submit",disabled:!passcode.length},"Submit"))))));}
// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules
var objectWithoutProperties = __webpack_require__(168);

// CONCATENATED MODULE: ./src/components/PrivateRoute/PrivateRoute.tsx
function PrivateRoute(_ref){var children=_ref.children,rest=Object(objectWithoutProperties["a" /* default */])(_ref,["children"]);var _useAppState=useAppState(),isAuthReady=_useAppState.isAuthReady,user=_useAppState.user;var renderChildren=user||!"passcode";if(!renderChildren&&!isAuthReady){return null;}return react_default.a.createElement(react_router["b" /* Route */],Object.assign({},rest,{render:function render(_ref2){var location=_ref2.location;return renderChildren?children:react_default.a.createElement(react_router["a" /* Redirect */],{to:{pathname:'/login',state:{from:location}}});}}));}
// CONCATENATED MODULE: ./src/theme.ts
/* harmony default export */ var src_theme = (Object(createMuiTheme["a" /* default */])({palette:{type:'dark',primary:{main:'#F22F46'}},sidebarWidth:260}));
// CONCATENATED MODULE: ./src/types.ts

// CONCATENATED MODULE: ./src/index.tsx
// See: https://media.twiliocdn.com/sdk/js/video/releases/2.0.0/docs/global.html#ConnectOptions
// for available connection options.
var connectionOptions={bandwidthProfile:{video:{mode:'collaboration',renderDimensions:{high:{height:1080,width:1920},standard:{height:90,width:160},low:{height:90,width:160}}}},dominantSpeaker:true,maxAudioBitrate:12000,networkQuality:{local:1,remote:1},preferredVideoCodecs:[{codec:'VP8',simulcast:true}]};var src_VideoApp=function VideoApp(){var _useAppState=useAppState(),error=_useAppState.error,setError=_useAppState.setError;return react_default.a.createElement(VideoProvider,{options:connectionOptions,onError:setError},react_default.a.createElement(ErrorDialog_ErrorDialog,{dismissError:function dismissError(){return setError(null);},error:error}),react_default.a.createElement(App,null));};react_dom_default.a.render(react_default.a.createElement(ThemeProvider["a" /* default */],{theme:src_theme},react_default.a.createElement(CssBaseline["a" /* default */],null),react_default.a.createElement(react_router_dom["a" /* BrowserRouter */],null,react_default.a.createElement(AppStateProvider,null,react_default.a.createElement(react_router["d" /* Switch */],null,react_default.a.createElement(PrivateRoute,{exact:true,path:"/"},react_default.a.createElement(src_VideoApp,null)),react_default.a.createElement(PrivateRoute,{path:"/room/:URLRoomName"},react_default.a.createElement(src_VideoApp,null)),react_default.a.createElement(react_router["b" /* Route */],{path:"/login"},react_default.a.createElement(LoginPage,null)),react_default.a.createElement(react_router["a" /* Redirect */],{to:"/"}))))),document.getElementById('root'));

/***/ })

},[[184,1,2]]]);